(this["webpackJsonpsd-0x-project-react-context-hooks-starwars-datatable-filters"]=this["webpackJsonpsd-0x-project-react-context-hooks-starwars-datatable-filters"]||[]).push([[0],{12:function(e,t,a){},13:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(5),u=a.n(r),c=a(1),o=Object(n.createContext)();var i=function(){return l.a.createElement(o.Consumer,null,(function(e){var t=e.data;return l.a.createElement("table",{border:"1"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Name"),l.a.createElement("th",null,"Rotation Period"),l.a.createElement("th",null,"Orbital Period"),l.a.createElement("th",null,"Diameter"),l.a.createElement("th",null,"Climate"),l.a.createElement("th",null,"Gravity"),l.a.createElement("th",null,"Terrain"),l.a.createElement("th",null,"Surface Water"),l.a.createElement("th",null,"Population"),l.a.createElement("th",null,"Films"),l.a.createElement("th",null,"Created"),l.a.createElement("th",null,"Edited"),l.a.createElement("th",null,"URL"))),l.a.createElement("tbody",null,t.map((function(e){var t=e.name,a=e.rotation_period,n=e.orbital_period,r=e.diameter,u=e.climate,c=e.gravity,o=e.terrain,i=e.surface_water,m=e.population,s=e.films,f=e.created,v=e.edited,E=e.url;return l.a.createElement("tr",{key:t},l.a.createElement("td",null,t),l.a.createElement("td",null,a),l.a.createElement("td",null,n),l.a.createElement("td",null,r),l.a.createElement("td",null,u),l.a.createElement("td",null,c),l.a.createElement("td",null,o),l.a.createElement("td",null,i),l.a.createElement("td",null,m),l.a.createElement("td",null,s),l.a.createElement("td",null,f),l.a.createElement("td",null,v),l.a.createElement("td",null,E))}))))}))};a(12);var m=function(){return l.a.createElement(o.Consumer,null,(function(e){var t=e.filterByName,a=t.planetName,n=t.setPlanetName;return l.a.createElement("input",{"data-testid":"name-filter",type:"text",value:a,placeholder:"Filtro por nome",onChange:function(e){return n(e.target.value)}})}))},s=a(6);var f=function(){return l.a.createElement(o.Consumer,null,(function(e){var t=e.filters,a=e.setFilters,n=e.filterByNumericValues,r=n.column,u=n.comparison,c=n.value;return l.a.createElement("button",{"data-testid":"button-filter",type:"button",onClick:function(){return a([].concat(Object(s.a)(t),[{column:r,comparison:u,value:c}]))}},"Aplicar")}))};var v=function(){var e=[{value:"population",label:"population"},{value:"orbital_period",label:"orbital_period"},{value:"diameter",label:"diameter"},{value:"rotation_period",label:"rotation_period"},{value:"surface_water",label:"surface_water"}];return l.a.createElement(o.Consumer,null,(function(t){var a=t.filters,n=t.filterByNumericValues,r=n.column,u=n.setColumn,c=e;return a.length>0&&a.forEach((function(e){var t=c.filter((function(t){return t.value!==e.column}));c=t})),l.a.createElement("select",{"data-testid":"column-filter",value:r,onChange:function(e){return u(e.target.value)}},c.map((function(e){var t=e.value,a=e.label;return l.a.createElement("option",{key:t,value:t},a)})))}))};var E=function(){var e=[{value:"maior que",label:"maior que"},{value:"igual a",label:"igual a"},{value:"menor que",label:"menor que"}];return l.a.createElement(o.Consumer,null,(function(t){var a=t.filterByNumericValues,n=a.comparison,r=a.setComparison;return l.a.createElement("select",{"data-testid":"comparison-filter",value:n,onChange:function(e){return r(e.target.value)}},e.map((function(e){var t=e.value,a=e.label;return l.a.createElement("option",{key:t,value:t},a)})))}))};var d=function(){return l.a.createElement(o.Consumer,null,(function(e){var t=e.filterByNumericValues,a=t.value,n=t.setValue;return l.a.createElement("input",{"data-testid":"value-filter",type:"number",placeholder:"Input number",value:a,onChange:function(e){return n(e.target.value)}})}))};var p=function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(v,null),l.a.createElement(E,null),l.a.createElement(d,null),l.a.createElement(f,null))};var b=function(e){var t=e.column;return l.a.createElement(o.Consumer,null,(function(e){var a=e.filters,n=e.setFilters;return l.a.createElement("button",{style:{backgroundColor:"red",marginLeft:"50px"},type:"button",value:t,onClick:function(e){n(a.filter((function(t){return t.column!==e.target.value})))}},"X")}))};var h=function(){return l.a.createElement(o.Consumer,null,(function(e){var t=e.filters;return l.a.createElement("div",null,t.map((function(e){var t=e.column,a=e.comparison,n=e.value;return l.a.createElement("div",{"data-testid":"filter",key:t,style:{display:"flex"}},l.a.createElement("div",null,"".concat(t," ").concat(a.replace(/===/g,"=")," ").concat(n))," ",l.a.createElement(b,{column:t}))})))}))};function y(e,t,a){var n=e;return t.length>0?t.forEach((function(e){var t=Object.values(e)[0],a=Object.values(e)[1],l=parseInt(Object.values(e)[2],10),r=n.filter((function(e){var n=[];return"maior que"===a&&(n=parseInt(e[t],10)>l),"menor que"===a&&(n=parseInt(e[t],10)<l),"igual a"===a&&(n=parseInt(e[t],10)===l),n}));n=r})):n=e.filter((function(e){return e.name.includes(a)})),n}var C=function(){var e=Object(n.useState)(""),t=Object(c.a)(e,2),a=t[0],r=t[1],u=Object(n.useState)(""),s=Object(c.a)(u,2),f=s[0],v=s[1],E=Object(n.useState)("population"),d=Object(c.a)(E,2),b=d[0],C=d[1],g=Object(n.useState)("maior que"),j=Object(c.a)(g,2),O=j[0],k=j[1],N=Object(n.useState)("0"),x=Object(c.a)(N,2),_=x[0],w=x[1],B=Object(n.useState)([]),q=Object(c.a)(B,2),S=q[0],V=q[1];Object(n.useEffect)((function(){fetch("https://swapi-trybe.herokuapp.com/api/planets/").then((function(e){return e.json()})).then((function(e){r(e.results)}))}),[]);var F={data:a&&y(a,S,f),setData:r,filterByName:{planetName:f,setPlanetName:v},filterByNumericValues:{column:b,setColumn:C,comparison:O,setComparison:k,value:_,setValue:w},filters:S,setFilters:V};return l.a.createElement(o.Provider,{value:F},l.a.createElement("div",{style:{display:"flex",flexDirection:"column"}},l.a.createElement("span",null,l.a.createElement(m,null)),l.a.createElement("span",null,l.a.createElement(p,null)),l.a.createElement(h,null)),a?l.a.createElement(i,null):l.a.createElement("div",null,"Carregando..."))};u.a.render(l.a.createElement(C,null),document.getElementById("root"))},7:function(e,t,a){e.exports=a(13)}},[[7,1,2]]]);
//# sourceMappingURL=main.942940b2.chunk.js.map